# 実装計画

- [x] 1. ハッシュタグユーティリティ関数の実装
  - テキストからハッシュタグを抽出する関数を作成
  - ハッシュタグの正規化（小文字変換、重複除去）機能を実装
  - ハッシュタグのバリデーション（長さ・数量制限）を実装
  - _要件: 1.1, 1.3, 5.2, 5.5_

- [x] 2. データモデルとインターフェースの更新
  - Post インターフェースに hashtags フィールドを追加
  - NewPost インターフェースを hashtags 対応に更新
  - 既存の categoryId 関連の型定義を削除
  - _要件: 1.4, 5.1_

- [x] 3. 既存投稿データの移行機能実装
  - categoryId から hashtags への変換ロジックを実装
  - 既存投稿データを一括変換するマイグレーション関数を作成
  - 移行処理の実行とテスト
  - _要件: 5.4_

- [x] 4. usePosts フックの拡張
  - createPost 関数でハッシュタグ抽出・保存機能を追加
  - ハッシュタグによるフィルタリング機能を実装
  - categoryId 関連のロジックを削除
  - _要件: 1.3, 1.4, 2.3_

- [x] 5. PostForm コンポーネントの改修
  - カテゴリー選択ドロップダウンを削除
  - ハッシュタグ入力機能を追加（デフォルト候補表示）
  - リアルタイムハッシュタグハイライト機能を実装
  - _要件: 1.1, 1.2_

- [x] 6. ハッシュタグ表示コンポーネントの実装
  - 投稿テキスト内のハッシュタグをクリック可能なリンクとして表示する機能を実装
  - ハッシュタグクリック時のフィルタリング機能を実装
  - _要件: 2.1, 2.2, 2.3_

- [x] 7. PostList コンポーネントの改修
  - カテゴリーバッジ表示をハッシュタグ表示に置き換え
  - ハッシュタグ表示コンポーネントを統合
  - フィルター状態の表示機能を追加
  - _要件: 2.1, 2.4, 2.5_

- [x] 8. 人気ハッシュタグ機能の実装
  - useHashtags カスタムフックを作成
  - 人気ハッシュタグを計算・表示するコンポーネントを実装
  - リアルタイム更新機能を実装
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 9. ハッシュタグ検索機能の実装
  - ハッシュタグ検索入力フィールドを実装
  - 部分一致検索とオートコンプリート機能を実装
  - 検索結果のフィルタリング機能を実装
  - _要件: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 10. Firestore Security Rules の更新
  - validatePost 関数から categoryId を削除
  - hashtags フィールドのバリデーションを追加
  - セキュリティルールのテストを実行
  - _要件: 5.1, 5.3, 5.5_

- [ ] 11. 統合テストとバグ修正
  - 全機能の統合テストを実行
  - ハッシュタグ付き投稿の作成から表示までのフローをテスト
  - フィルタリング・検索機能のテスト
  - 発見されたバグの修正
  - _要件: 全要件_

- [ ] 12. パフォーマンス最適化
  - ハッシュタグ抽出処理のメモ化を実装
  - 人気ハッシュタグのクライアントサイドキャッシュを実装
  - 検索機能のデバウンス処理を実装
  - _設計書のパフォーマンス考慮事項_